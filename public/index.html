<!DOCTYPE html>
<html>
<head>

<script>
window.onload = () => {
    console.log("dinWindowLoad")
    const but = document.getElementById("but")
    const inputURL = document.getElementById("photoURL")
    but.onclick = () => {
        getJSON(inputURL.value)
    }
}

async function getJSON(downloadURL)
    {
        try 
        {
           window.fetch(
            `/args`,
           {
             method:'post',
             body: JSON.stringify({
        URL: `${downloadURL}`
    }),
             headers:
             {
                 'Content-Type':'application/json',
                 'Accept':'application/json'
             }
           }
           ).then((response)=>{return response.json();})
           .then((result)=>{
               console.log(result)
           });  
        } catch (e) {
            console.warn(e.message);
        }
    }
    
</script>

</head>
<body>

<h1>TEST</h1>

<input type="text" id="photoURL" >
<br>
<br>
<button id="but" onClick = getJSON()>Click me</button>

</body>
</html>